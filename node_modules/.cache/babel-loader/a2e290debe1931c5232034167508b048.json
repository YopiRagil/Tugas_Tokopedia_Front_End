{"ast":null,"code":"import axios from \"axios\";\nconst signInUrl = \"http://0.0.0.0:5050/auth\";\nexport const doLogin = () => {\n  // console.log(\"cek masuk\");\n  return async (dispatch, getState) => {\n    console.log(\"cek storage\", localStorage);\n    const username = getState().user.name;\n    const password = getState().user.password;\n    localStorage.clear();\n    localStorage.setItem(\"username\", username);\n    console.log(\"cek storage2\", localStorage);\n    await axios.get(signInUrl, {\n      params: {\n        username: username,\n        password: password\n      }\n    }).then(async response => {\n      console.log(\"masuk api\", response.data.token);\n      await dispatch({\n        type: \"SUCCESS_LOGIN\",\n        payload: response.data\n      });\n      localStorage.setItem(\"token\", response.data.token);\n      console.log(\"cek storage2\", localStorage);\n    }).catch(function (error) {});\n  };\n};\nexport const changeInputUser = el => {\n  return {\n    type: \"CHANGE_INPUT_USER\",\n    payload: el\n  };\n};\nexport const doLogout = () => {\n  localStorage.clear();\n  console.log(\"cek storage2\", localStorage);\n  return {\n    type: \"LOG_OUT\"\n  };\n};","map":{"version":3,"sources":["/home/alta18/Documents/TUGAS_TOPED/FRONT_END/src/store/action/signInAction.js"],"names":["axios","signInUrl","doLogin","dispatch","getState","console","log","localStorage","username","user","name","password","clear","setItem","get","params","then","response","data","token","type","payload","catch","error","changeInputUser","el","doLogout"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,SAAS,GAAG,0BAAlB;AAEA,OAAO,MAAMC,OAAO,GAAG,MAAM;AACzB;AACA,SAAO,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AACjCC,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BC,YAA3B;AACA,UAAMC,QAAQ,GAAGJ,QAAQ,GAAGK,IAAX,CAAgBC,IAAjC;AACA,UAAMC,QAAQ,GAAGP,QAAQ,GAAGK,IAAX,CAAgBE,QAAjC;AACAJ,IAAAA,YAAY,CAACK,KAAb;AACAL,IAAAA,YAAY,CAACM,OAAb,CAAqB,UAArB,EAAiCL,QAAjC;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BC,YAA5B;AACA,UAAMP,KAAK,CACNc,GADC,CACGb,SADH,EACc;AACZc,MAAAA,MAAM,EAAE;AACJP,QAAAA,QAAQ,EAAEA,QADN;AAEJG,QAAAA,QAAQ,EAAEA;AAFN;AADI,KADd,EAQDK,IARC,CAQI,MAAOC,QAAP,IAAoB;AACtBZ,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBW,QAAQ,CAACC,IAAT,CAAcC,KAAvC;AACA,YAAMhB,QAAQ,CAAC;AAAEiB,QAAAA,IAAI,EAAE,eAAR;AAAyBC,QAAAA,OAAO,EAAEJ,QAAQ,CAACC;AAA3C,OAAD,CAAd;AACAX,MAAAA,YAAY,CAACM,OAAb,CAAqB,OAArB,EAA8BI,QAAQ,CAACC,IAAT,CAAcC,KAA5C;AACAd,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BC,YAA5B;AACH,KAbC,EAcDe,KAdC,CAcK,UAAUC,KAAV,EAAiB,CACvB,CAfC,CAAN;AAgBH,GAvBD;AAwBH,CA1BM;AA4BP,OAAO,MAAMC,eAAe,GAAIC,EAAD,IAAQ;AACnC,SAAO;AACHL,IAAAA,IAAI,EAAE,mBADH;AAEHC,IAAAA,OAAO,EAAEI;AAFN,GAAP;AAIH,CALM;AAMP,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAC1BnB,EAAAA,YAAY,CAACK,KAAb;AACAP,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BC,YAA5B;AACA,SAAO;AACHa,IAAAA,IAAI,EAAE;AADH,GAAP;AAGH,CANM","sourcesContent":["import axios from \"axios\"\nconst signInUrl = \"http://0.0.0.0:5050/auth\"\n\nexport const doLogin = () => {\n    // console.log(\"cek masuk\");\n    return async (dispatch, getState) => {\n        console.log(\"cek storage\", localStorage)\n        const username = getState().user.name;\n        const password = getState().user.password;\n        localStorage.clear()\n        localStorage.setItem(\"username\", username)\n        console.log(\"cek storage2\", localStorage)\n        await axios\n            .get(signInUrl, {\n                params: {\n                    username: username,\n                    password: password\n                }\n            })\n\n            .then(async (response) => {\n                console.log(\"masuk api\", response.data.token)\n                await dispatch({ type: \"SUCCESS_LOGIN\", payload: response.data });\n                localStorage.setItem(\"token\", response.data.token)\n                console.log(\"cek storage2\", localStorage)\n            })\n            .catch(function (error) {\n            });\n    };\n};\n\nexport const changeInputUser = (el) => {\n    return {\n        type: \"CHANGE_INPUT_USER\",\n        payload: el,\n    };\n};\nexport const doLogout = () => {\n    localStorage.clear()\n    console.log(\"cek storage2\", localStorage)\n    return {\n        type: \"LOG_OUT\",\n    };\n};"]},"metadata":{},"sourceType":"module"}